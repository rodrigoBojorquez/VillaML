<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Dashboard de Adicci√≥n a Redes Sociales</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', sans-serif;
            background: #f9fafb;
            padding: 2rem;
        }
        h1 {
            text-align: center;
            margin-bottom: 2rem;
        }
        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            max-width: 1400px;
            margin: auto;
        }
        .chart-box {
            background: white;
            padding: 1.5rem;
            border-radius: 10px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.1);
        }
        canvas {
            max-width: 100%;
        }
    </style>
</head>
<body>
    <h1>üì± Dashboard - Adicci√≥n a Redes Sociales en Estudiantes</h1>
    <div class="dashboard">
        <div class="chart-box">
            <h3>Uso Diario Promedio por G√©nero</h3>
            <canvas id="usoGenero"></canvas>
        </div>

        <div class="chart-box">
            <h3>Plataformas M√°s Usadas</h3>
            <canvas id="plataformasChart"></canvas>
        </div>

        <div class="chart-box">
            <h3>Horas de Uso vs Sue√±o</h3>
            <canvas id="usoSue√±oChart"></canvas>
        </div>

        <div class="chart-box">
            <h3>¬øAfecta el Rendimiento Acad√©mico?</h3>
            <canvas id="rendimientoChart"></canvas>
        </div>

        <div class="chart-box">
            <h3>Score de Adicci√≥n por Nivel Acad√©mico</h3>
            <canvas id="adiccionNivelChart"></canvas>
        </div>

        <div class="chart-box">
            <h3>Salud Mental vs Horas de Uso</h3>
            <canvas id="saludMentalChart"></canvas>
        </div>
    </div>

    <script>

        new Chart(document.getElementById('usoGenero'), {
            type: 'bar',
            data: {
                labels: Object.keys(data.uso_por_genero),
                datasets: [{
                    label: 'Horas promedio',
                    data: Object.values(data.uso_por_genero),
                    backgroundColor: '#4bc0c0'
                }]
            },
            options: {
                responsive: true,
                scales: { y: { beginAtZero: true, max: 10 } }
            }
        });

        new Chart(document.getElementById('plataformasChart'), {
            type: 'doughnut',
            data: {
                labels: Object.keys(data.plataformas),
                datasets: [{
                    data: Object.values(data.plataformas),
                    backgroundColor: ['#e1306c', '#69c9d0', '#3b5998', '#1da1f2', '#cccccc']
                }]
            },
            options: { responsive: true }
        });

        new Chart(document.getElementById('usoSue√±oChart'), {
            type: 'line',
            data: {
                labels: data.uso_vs_sueno.uso,
                datasets: [{
                    label: 'Horas de sue√±o',
                    data: data.uso_vs_sueno.sueno,
                    borderColor: '#ff6384',
                    fill: false
                }]
            },
            options: {
                responsive: true,
                scales: { x: { title: { display: true, text: 'Horas de uso diario' } },
                          y: { title: { display: true, text: 'Horas de sue√±o' } } }
            }
        });

        new Chart(document.getElementById('rendimientoChart'), {
            type: 'pie',
            data: {
                labels: Object.keys(data.rendimiento),
                datasets: [{
                    data: Object.values(data.rendimiento),
                    backgroundColor: ['#ff9f40', '#36a2eb']
                }]
            },
            options: { responsive: true }
        });

        new Chart(document.getElementById('adiccionNivelChart'), {
            type: 'bar',
            data: {
                labels: Object.keys(data.adiccion_por_nivel),
                datasets: [{
                    label: 'Addicted Score',
                    data: Object.values(data.adiccion_por_nivel),
                    backgroundColor: '#9966ff'
                }]
            },
            options: {
                responsive: true,
                scales: { y: { beginAtZero: true, max: 100 } }
            }
        });

        new Chart(document.getElementById('saludMentalChart'), {
            type: 'line',
            data: {
                labels: data.uso_diario,
                datasets: [{
                    label: 'Salud Mental',
                    data: data.salud_mental,
                    borderColor: '#36a2eb',
                    fill: false
                }]
            },
            options: {
                responsive: true,
                scales: { x: { title: { display: true, text: 'Horas de uso diario' } },
                          y: { title: { display: true, text: 'Puntaje salud mental' } } }
            }
        });
    </script>
<div class="container mt-5">
    <h2 class="mb-4">Resultado del Modelo</h2>
    {% if resultado %}
        <div class="alert alert-info">
            <strong>Predicci√≥n:</strong> {{ resultado }}
        </div>
    {% else %}
        <div class="alert alert-warning">
            No se recibi√≥ ning√∫n resultado.
        </div>
    {% endif %}
</div>

</body>
</html>